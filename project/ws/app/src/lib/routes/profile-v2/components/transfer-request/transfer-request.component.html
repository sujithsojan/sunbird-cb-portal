<div class="flex flex-col gap-4">
    <div class="text-base font-semibold text-center">{{ 'profileInfo.transferHeader' | translate }}</div>

    <form class="flex flex-col gap-4" [formGroup]="transferRequestForm">
        <div class="flex flex-col">
            <div class="text-sm font-bold required">{{ 'profileInfo.organization' | translate }}</div>
            <mat-form-field class="profile-form-field">
                <mat-select formControlName="organization">
                    <span class="search-box-span">
                        <input (keyup)="searchOrg($event.target.value)" class="dept-seach-input" placeholder="Search organization">
                    </span>
                    
                    <mat-option value="" disabled>{{ 'profileInfo.chooseOrganization' | translate }}</mat-option>
                    <mat-option *ngFor="let dept of departmentData" value="{{ dept }}">{{ dept }}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    
        <ng-container *ngIf="otherDetails">
            <div class="flex flex-col">
                <div class="text-sm font-bold required">{{ 'profileInfo.group' | translate }}</div>
                <mat-form-field class="profile-form-field">
                    <mat-select formControlName="group">
                        <mat-option value="" disabled>{{ 'profileInfo.chooseAGroup' | translate }}</mat-option>
                        <mat-option *ngFor="let group of data?.groupData" value="{{group}}">{{ group }}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        
            <div class="flex flex-col">
                <div class="text-sm font-bold required">{{ 'profileInfo.designation' | translate }}</div>
                <mat-form-field class="profile-form-field mat-drop-down-select">
                    <mat-select formControlName="designation" class="mat-select-custom-panel" panelClass="custom-select-panel">
                        <span value="" disabled class="search-box-span">
                            <input (keyup)="searchDesignation($event.target.value)" class="dept-seach-input" placeholder="Search designation">
                        </span>
                        <!-- <mat-select-trigger>
                            <input (keyup)="searchDesignation($event.target.value)" class="dept-seach-input" placeholder="Search designation">
                          </mat-select-trigger> -->
                        <mat-option value="" disabled>{{ 'profileInfo.chooseADesignation' | translate }}</mat-option>
                        <mat-option  *ngFor="let designation of designationData" value="{{ designation?.name }}">{{ designation?.name }}</mat-option>
                    </mat-select>
                </mat-form-field>
                <!-- <mat-form-field class="profile-form-field autocomplete-box">
                    <div class="flex flex-row auto-complete-row">
                      <input type="text" class="input-text" aria-label="Search designation" matInput 
                        formControlName="designation" [matAutocomplete]="designationAuto" />
                      <mat-icon>arrow_drop_down</mat-icon>
                    </div>
                    <mat-autocomplete #designationAuto="matAutocomplete">
                      <mat-option *ngFor="let designation of designationData" [value]="designation?.name">
                        {{ designation?.name }}
                      </mat-option>
                    </mat-autocomplete>
                  </mat-form-field> -->
            </div>
        </ng-container>

        <div class="flex flex-row gap-1 info-div">
            <mat-icon>info</mat-icon>
            <div>{{ 'profileInfo.transferWarnMsg' | translate }}</div>
        </div>
        
        <div class="flex flex-row justify-between mt-2">
            <button class="outline-button" (click)="handleCloseModal()">{{ 'profileInfo.cancel' | translate }}</button>
            <button class="save-button" [disabled]="transferRequestForm?.invalid || (transferRequestForm.get('organization')?.value === data.portalProfile.employmentDetails.departmentName)" [ngClass]="{'disable-button': transferRequestForm?.invalid || (transferRequestForm.get('organization')?.value === data.portalProfile.employmentDetails.departmentName)}" (click)="handleSubmitRequest()">{{ 'profileInfo.submitRequest' | translate }}</button>
        </div>
    </form>
</div>
